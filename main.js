(()=>{"use strict";class e{constructor(e,t,s,r,i,n){this._name=e.name,this._link=e.link,this._card=t,this._handleImageClick=s,this._handleCardDelete=r,this._handleLikeCard=i,this._data=e,this.id=e._id,this.isLiked=e.isLiked,this._handleDeleteModal=n}_setEventListeners(){this._likeButton=this.cardElement.querySelector(".card__like-button"),this._likeButton.addEventListener("click",(()=>{this._handleLikeCard(this)})),this.cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._handleDeleteModal(this)})),this._imageElement.addEventListener("click",(()=>{this._handleImageClick(this._name,this._link)}))}handleDeleteCard=()=>{this._handleCardDelete(this,this.cardElement)};addLikeButton(){this._likeButton.classList.add("card__like-button_active")}removeLikeButton(){this._likeButton.classList.remove("card__like-button_active")}setLikeButtonState(){this.isLiked&&this.addLikeButton()}renderCard(){return this.cardElement=document.querySelector(this._card).content.querySelector(".card").cloneNode(!0),this.cardElement.querySelector(".card__title").textContent=this._name,this._imageElement=this.cardElement.querySelector(".card__image"),this._imageElement.setAttribute("src",this._link),this._imageElement.setAttribute("alt","Picture of "+this._name),this._setEventListeners(),this.setLikeButtonState(),this.cardElement}}class t{constructor(e,t){this._settings=e,this._form=document.querySelector(t),this._inputList=[...this._form.querySelectorAll(e.inputSelector)],this._buttonElement=this._form.querySelector(e.submitButtonSelector)}_checkInputvalidity(e){e.validity.valid?this._removeInputError(e):this._addInputError(e)}_removeInputError(e){this._errorElement=this._form.querySelector(`.${e.id}-error`),e.classList.remove(this._settings.inputErrorClass),this._errorElement.classList.remove(this._settings.errorClass),this._errorElement.textContent=""}_addInputError(e){this._errorElement=this._form.querySelector(`.${e.id}-error`),this._errorMessage=e.validationMessage,e.classList.add(this._settings.inputErrorClass),this._errorElement.textContent=this._errorMessage,this._errorElement.classList.add(this._settings.errorClass)}toggleButtonState(){this._hasValidInput()?(this._buttonElement.classList.add(this._settings.inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._settings.inactiveButtonClass),this._buttonElement.disabled=!1)}_hasValidInput(){return this._inputList.some((e=>!e.validity.valid))}_setEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputvalidity(e),this.toggleButtonState()}))}))}enableValidation(){this._setEventListeners()}resetValidation(){this._inputList.forEach((e=>{this._removeInputError(e)})),this.toggleButtonState()}}class s{constructor(e){this._popupElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._closeButton=this._popupElement.querySelector(".modal__close-button")}open(){this._popupElement.classList.add("modal_open"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_open"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._closeButton.addEventListener("click",(()=>{this.close()})),this._popupElement.addEventListener("mousedown",(e=>{e.preventDefault,e.target===this._popupElement&&this.close()}))}}class r extends s{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputValues=[...this._popupForm.querySelectorAll(".modal__input")],this._popupBtn=this._popupElement.querySelector(".modal__button"),this._popupBtnText=this._popupBtn.textContent}_getInputValue(){return this._inputData={},this._inputValues.forEach((e=>{this._inputData[e.name]=e.value})),this._inputData}setInputValues(e){this._inputValues.forEach((t=>{t.value=e[t.name]}))}reset(){this._popupForm.reset()}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._popupBtn.textContent=e?t:this._popupBtnText}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValue())}))}}const i=document.querySelector("#profile-edit-button"),n=document.querySelector("#profile-add-button"),o=document.querySelector("#avatar-edit-button"),a={};var d;function l(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Saving...";t.renderLoading(!0,s),e().then((()=>{t.close()})).catch(console.error).finally((()=>{t.renderLoading(!1,s)}))}function h(t){return new e(t,"#card-template",c,u,m,_).renderCard()}function c(e,t){L.open({name:e,link:t})}function u(e){f.deleteCard(e.id).then((()=>{e.cardElement.remove(),e.cardElement=null,k.close()})).catch(console.error)}function _(e){k.open(e)}function m(e){return!1===e.isLiked?f.addLike(e.id).then((()=>{e.isLiked=!0,e.addLikeButton()})).catch(console.error):!0===e.isLiked?f.removeLike(e.id).then((()=>{e.isLiked=!1,e.removeLikeButton()})).catch(console.error):void 0}d={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},[...document.querySelectorAll(d.formSelector)].forEach((e=>{const s=new t(d,`#${e.id}`),r=e.getAttribute("name");a[r]=s,s.enableValidation()})),document.getElementById("logo").src="4e8e0a1d604782a0dff8.svg";const p=new class{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{const t=this._renderer(e);this.addItem(t)}))}addItem(e){this._container.prepend(e)}setItems(e){this._items=e}}({items:[],renderer:h},".cards__list"),E=new r("#profile-edit-modal",(function(e){l((function(){return f.editProfile({name:e.name,description:e.description}).then((e=>{g.setUserInfo({name:e.name,description:e.about,avatar:e.avatar})}))}),E)})),v=new r("#profile-add-modal",(function(e){l((function(){return f.addCard({name:e.name,link:e.image}).then((e=>{p.addItem(h(e)),v.reset(),a.addCardPopupForm.toggleButtonState()}))}),v)})),L=new class extends s{constructor(e){super(e),this._imagePreview=this._popupElement.querySelector(".modal__image"),this._imageCaption=this._popupElement.querySelector(".modal__caption")}open(e){let{name:t,link:s}=e;this._imagePreview.src=s,this._imagePreview.alt=`Picture of ${t}`,this._imageCaption.textContent=t,super.open()}}("#modal-image-popup"),g=new class{constructor(e,t,s){this._profileName=document.querySelector(e),this._description=document.querySelector(t),this._avatar=document.querySelector(s)}getUserInfo(){return{name:this._profileName.innerText,description:this._description.innerText}}setUserInfo(e){this._profileName.textContent=e.name,this._description.textContent=e.description,this.setAvatar(e.avatar)}setAvatar(e){this._avatar.src=e}}("#profile-title","#profile-description","#profile-image"),f=new class{constructor(e){this._authorization=e.headers.authorization,this._baseUrl=e.baseUrl,this._headers=e.headers}_request(e,t){return fetch(e,t).then(this._checkResponse)}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return this._request(`${this._baseUrl}/cards`,{headers:this._headers})}getUser(){return this._request(`${this._baseUrl}/users/me`,{headers:this._headers})}editProfile(e){return this._request(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.description})})}addCard(e){return this._request(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})})}deleteCard(e){return this._request(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers})}addLike(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers})}removeLike(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers})}async updateAvatar(e){return this._request(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"7c40b814-e707-41cf-959d-91dbc11467c7","Content-Type":"application/json"}}),k=new class extends s{constructor(e,t){super(e),this._popup=document.querySelector(e),this._confirmBtn=this._popup.querySelector(".modal__button"),this._handleFormSubmit=t}open(e){this.card=e,super.open()}setEventListeners(){super.setEventListeners(),this._confirmBtn.addEventListener("click",(e=>{this._handleFormSubmit(this.card)}))}}("#delete-card-modal",u),b=new r("#avatar-edit-modal",(function(e){l((function(){return f.updateAvatar(e.image).then((()=>{g.setAvatar(e.image),b.reset(),a.avatarPopupForm.toggleButtonState()}))}),b)}));i.addEventListener("click",(()=>{const{name:e,description:t}=g.getUserInfo();E.setInputValues({name:e,description:t}),a.profilePopupForm.resetValidation(),E.open()})),n.addEventListener("click",(()=>{v.open()})),o.addEventListener("click",(()=>{b.open()})),v.setEventListeners(),E.setEventListeners(),L.setEventListeners(),k.setEventListeners(),b.setEventListeners(),f.getUser().then((e=>{g.setUserInfo({name:e.name,description:e.about,avatar:e.avatar})})).catch(console.error),f.getInitialCards().then((e=>{p.setItems(e),p.renderItems()})).catch(console.error)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixTQUFVeUQsSUFDMUMzRSxLQUFLa0Ysa0JBQWtCbEYsS0FBS2lILEtBQUssR0FFckMsR0wrSUEscUJBQ0FwSCxHQUdJZ00sRUFBa0IsSUFBSS9HLEVBQzFCLHNCQTdHRixTQUFnQ3BGLEdBUTlCNEcsR0FQQSxXQUNFLE9BQU9ZLEVBQUl1RSxhQUFhL0wsRUFBSzJKLE9BQU81QyxNQUFLLEtBQ3ZDc0MsRUFBU2tCLFVBQVV2SyxFQUFLMkosT0FDeEJ3QyxFQUFnQm5HLFFBQ2hCVSxFQUFBQSxnQkFBQUEsbUJBQXFELEdBRXpELEdBQzBCeUYsRUFDNUIsSUF5R0E1RixFQUFrQi9FLGlCQUFpQixTQUFTLEtBQzFDLE1BQU0sS0FBRWhCLEVBQUksWUFBRTJJLEdBQWdCRSxFQUFTZ0IsY0FDdkNwQixFQUFpQmxELGVBQWUsQ0FBRXZGLEtBQU1BLEVBQU0ySSxnQkFDOUN6QyxFQUFBQSxpQkFBQUEsa0JBQ0F1QyxFQUFpQnJFLE1BQU0sSUFHekI0QixFQUFjaEYsaUJBQWlCLFNBQVMsS0FDdENpSSxFQUFpQjdFLE1BQU0sSUFHekI2QixFQUFpQmpGLGlCQUFpQixTQUFTLEtBQ3pDMkssRUFBZ0J2SCxNQUFNLElBSXhCNkUsRUFBaUJ6RSxvQkFDakJpRSxFQUFpQmpFLG9CQUNqQnNDLEVBQWV0QyxvQkFDZjBDLEVBQVkxQyxvQkFDWm1ILEVBQWdCbkgsb0JBR2hCd0MsRUFDR2lFLFVBQ0ExRSxNQUFNcUMsSUFDTEMsRUFBU0MsWUFBWSxDQUNuQjlJLEtBQU00SSxFQUFJNUksS0FDVjJJLFlBQWFDLEVBQUlHLE1BQ2pCQyxPQUFRSixFQUFJSSxRQUNaLElBRUh4QyxNQUFNQyxRQUFRQyxPQUVqQk0sRUFDR2dFLGtCQUNBekUsTUFBTXFDLElBQ0xqQixFQUFhYSxTQUFTSSxHQUN0QmpCLEVBQWFRLGFBQWEsSUFFM0IzQixNQUFNQyxRQUFRQyxNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGRhdGEsXG4gICAgY2FyZFNlbGVjdG9yLFxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXG4gICAgaGFuZGxlQ2FyZERlbGV0ZSxcbiAgICBoYW5kbGVMaWtlQ2FyZCxcbiAgICBoYW5kbGVEZWxldGVNb2RhbFxuICApIHtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fY2FyZCA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlID0gaGFuZGxlQ2FyZERlbGV0ZTtcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2FyZCA9IGhhbmRsZUxpa2VDYXJkO1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuaWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLmlzTGlrZWQgPSBkYXRhLmlzTGlrZWQ7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlTW9kYWwgPSBoYW5kbGVEZWxldGVNb2RhbDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDYXJkKHRoaXMpO1xuICAgIH0pO1xuICAgIHRoaXMuY2FyZEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVNb2RhbCh0aGlzKTtcbiAgICAgIH0pO1xuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZURlbGV0ZUNhcmQgPSAoKSA9PiB7XG4gICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSh0aGlzLCB0aGlzLmNhcmRFbGVtZW50KTtcbiAgfTtcblxuICBhZGRMaWtlQnV0dG9uKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgfVxuXG4gIHJlbW92ZUxpa2VCdXR0b24oKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICB9XG5cbiAgc2V0TGlrZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLmlzTGlrZWQpIHtcbiAgICAgIHRoaXMuYWRkTGlrZUJ1dHRvbigpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckNhcmQoKSB7XG4gICAgdGhpcy5jYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHRoaXMuY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5faW1hZ2VFbGVtZW50ID0gdGhpcy5jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgdGhpcy5fbGluayk7XG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LnNldEF0dHJpYnV0ZShcImFsdFwiLCBcIlBpY3R1cmUgb2YgXCIgKyB0aGlzLl9uYW1lKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuc2V0TGlrZUJ1dHRvblN0YXRlKCk7XG4gICAgcmV0dXJuIHRoaXMuY2FyZEVsZW1lbnQ7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybVNlbGVjdG9yKSB7XG4gICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLl9mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihmb3JtU2VsZWN0b3IpO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoc2V0dGluZ3MuaW5wdXRTZWxlY3RvcildO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG4gIH1cblxuICBfY2hlY2tJbnB1dHZhbGlkaXR5KGlucHV0KSB7XG4gICAgaWYgKGlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9yZW1vdmVJbnB1dEVycm9yKGlucHV0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYWRkSW5wdXRFcnJvcihpbnB1dCk7XG4gICAgfVxuICB9XG5cbiAgX3JlbW92ZUlucHV0RXJyb3IoaW5wdXQpIHtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0LmlkfS1lcnJvcmApO1xuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5lcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9XG5cbiAgX2FkZElucHV0RXJyb3IoaW5wdXQpIHtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0LmlkfS1lcnJvcmApO1xuICAgIHRoaXMuX2Vycm9yTWVzc2FnZSA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9lcnJvck1lc3NhZ2U7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuZXJyb3JDbGFzcyk7XG4gIH1cblxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzVmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIF9oYXNWYWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZXZ0KSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXR2YWxpZGl0eShpbnB1dCk7XG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5fcmVtb3ZlSW5wdXRFcnJvcihpbnB1dCk7XG4gICAgfSk7XG4gICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIubW9kYWxfX2Nsb3NlLWJ1dHRvblwiXG4gICAgKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlblwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0O1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzLl9wb3B1cEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2lucHV0VmFsdWVzID0gWy4uLnRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKV07XG4gICAgdGhpcy5fcG9wdXBCdG4gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuICAgIHRoaXMuX3BvcHVwQnRuVGV4dCA9IHRoaXMuX3BvcHVwQnRuLnRleHRDb250ZW50O1xuICB9XG5cbiAgX2dldElucHV0VmFsdWUoKSB7XG4gICAgdGhpcy5faW5wdXREYXRhID0ge307XG4gICAgdGhpcy5faW5wdXRWYWx1ZXMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2lucHV0RGF0YVtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9pbnB1dERhdGE7XG4gIH1cblxuICBzZXRJbnB1dFZhbHVlcyhkYXRhKSB7XG4gICAgdGhpcy5faW5wdXRWYWx1ZXMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xuICB9XG5cbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcsIGxvYWRpbmdUZXh0ID0gXCJTYXZpbmcuLi5cIikge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX3BvcHVwQnRuLnRleHRDb250ZW50ID0gbG9hZGluZ1RleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3BvcHVwQnRuLnRleHRDb250ZW50ID0gdGhpcy5fcG9wdXBCdG5UZXh0O1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWUoKSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsIi8vRm9ybVZhbGlkYXRvciBzZXR0aW5nc1xuZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbi8vUHJvZmlsZSBFZGl0IE1vZGFsXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1idXR0b25cIik7XG4vL0FkZCBNb2RhbFxuZXhwb3J0IGNvbnN0IGNhcmRBZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtYWRkLWJ1dHRvblwiKTtcbi8vQXZhdGFyIE1vZGFsXG5leHBvcnQgY29uc3QgYXZhdGFyRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLWVkaXQtYnV0dG9uXCIpO1xuLy9WYWxpZGF0aW9uXG5leHBvcnQgY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcbiIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCBsb2dvSW1hZ2UgZnJvbSBcIi4uL2ltYWdlcy9sb2dvLnN2Z1wiO1xuaW1wb3J0IHtcbiAgc2V0dGluZ3MsXG4gIHByb2ZpbGVFZGl0QnV0dG9uLFxuICBjYXJkQWRkQnV0dG9uLFxuICBhdmF0YXJFZGl0QnV0dG9uLFxuICBmb3JtVmFsaWRhdG9ycyxcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG4vL1ZhbGlkYXRpb25cbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcildO1xuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgYCMke2Zvcm1FbGVtZW50LmlkfWApO1xuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgfSk7XG59O1xuXG5lbmFibGVWYWxpZGF0aW9uKHNldHRpbmdzKTtcblxuLy9GdW5jdGlvbnNcbmZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChyZXF1ZXN0LCBwb3B1cEluc3RhbmNlLCBsb2FkaW5nVGV4dCA9IFwiU2F2aW5nLi4uXCIpIHtcbiAgcG9wdXBJbnN0YW5jZS5yZW5kZXJMb2FkaW5nKHRydWUsIGxvYWRpbmdUZXh0KTtcbiAgcmVxdWVzdCgpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcG9wdXBJbnN0YW5jZS5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcG9wdXBJbnN0YW5jZS5yZW5kZXJMb2FkaW5nKGZhbHNlLCBsb2FkaW5nVGV4dCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVkaXRQcm9maWxlRm9ybVN1Ym1pdChkYXRhKSB7XG4gIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KCkge1xuICAgIHJldHVybiBhcGlcbiAgICAgIC5lZGl0UHJvZmlsZSh7IG5hbWU6IGRhdGEubmFtZSwgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24gfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgICAgICAgIG5hbWU6IHJlcy5uYW1lLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXMuYWJvdXQsXG4gICAgICAgICAgYXZhdGFyOiByZXMuYXZhdGFyLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9XG4gIGhhbmRsZVN1Ym1pdChtYWtlUmVxdWVzdCwgcHJvZmlsZVBvcHVwRm9ybSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUF2YXRhckZvcm1TdWJtaXQoZGF0YSkge1xuICBmdW5jdGlvbiBtYWtlUmVxdWVzdCgpIHtcbiAgICByZXR1cm4gYXBpLnVwZGF0ZUF2YXRhcihkYXRhLmltYWdlKS50aGVuKCgpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldEF2YXRhcihkYXRhLmltYWdlKTtcbiAgICAgIGF2YXRhclBvcHVwRm9ybS5yZXNldCgpO1xuICAgICAgZm9ybVZhbGlkYXRvcnNbXCJhdmF0YXJQb3B1cEZvcm1cIl0udG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB9KTtcbiAgfVxuICBoYW5kbGVTdWJtaXQobWFrZVJlcXVlc3QsIGF2YXRhclBvcHVwRm9ybSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUFkZFByb2ZpbGVGb3JtU3VibWl0KGRhdGEpIHtcbiAgZnVuY3Rpb24gbWFrZVJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIGFwaS5hZGRDYXJkKHsgbmFtZTogZGF0YS5uYW1lLCBsaW5rOiBkYXRhLmltYWdlIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgbGF5ZXJTZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChyZXMpKTtcbiAgICAgIGFkZENhcmRQb3B1cEZvcm0ucmVzZXQoKTtcbiAgICAgIGZvcm1WYWxpZGF0b3JzW1wiYWRkQ2FyZFBvcHVwRm9ybVwiXS50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIH0pO1xuICB9XG4gIGhhbmRsZVN1Ym1pdChtYWtlUmVxdWVzdCwgYWRkQ2FyZFBvcHVwRm9ybSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgZGF0YSxcbiAgICBcIiNjYXJkLXRlbXBsYXRlXCIsXG4gICAgaGFuZGxlQ2FyZEltYWdlQ2xpY2ssXG4gICAgaGFuZGxlQ2FyZERlbGV0ZSxcbiAgICBoYW5kbGVMaWtlQ2FyZCxcbiAgICBoYW5kbGVEZWxldGVNb2RhbFxuICApO1xuICByZXR1cm4gY2FyZC5yZW5kZXJDYXJkKCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNhcmRJbWFnZUNsaWNrKG5hbWUsIGxpbmspIHtcbiAgY2FyZEltYWdlUG9wdXAub3Blbih7IG5hbWUsIGxpbmsgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNhcmREZWxldGUoY2FyZCkge1xuICBhcGlcbiAgICAuZGVsZXRlQ2FyZChjYXJkLmlkKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGNhcmQuY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICBjYXJkLmNhcmRFbGVtZW50ID0gbnVsbDtcbiAgICAgIGRlbGV0ZVBvcHVwLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZU1vZGFsKGNhcmQpIHtcbiAgZGVsZXRlUG9wdXAub3BlbihjYXJkKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTGlrZUNhcmQoY2FyZCkge1xuICBpZiAoY2FyZC5pc0xpa2VkID09PSBmYWxzZSkge1xuICAgIHJldHVybiBhcGlcbiAgICAgIC5hZGRMaWtlKGNhcmQuaWQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNhcmQuaXNMaWtlZCA9IHRydWU7XG4gICAgICAgIGNhcmQuYWRkTGlrZUJ1dHRvbigpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgfSBlbHNlIGlmIChjYXJkLmlzTGlrZWQgPT09IHRydWUpIHtcbiAgICByZXR1cm4gYXBpXG4gICAgICAucmVtb3ZlTGlrZShjYXJkLmlkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkLmlzTGlrZWQgPSBmYWxzZTtcbiAgICAgICAgY2FyZC5yZW1vdmVMaWtlQnV0dG9uKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICB9XG59XG5cbi8vSW1hZ2Ugc3Jjc1xuY29uc3QgbG9nbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9nb1wiKTtcbmxvZ28uc3JjID0gbG9nb0ltYWdlO1xuXG4vL0NsYXNzIEluc3RhbmNlc1xuY29uc3QgbGF5ZXJTZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gIHsgaXRlbXM6IFtdLCByZW5kZXJlcjogY3JlYXRlQ2FyZCB9LFxuICBcIi5jYXJkc19fbGlzdFwiXG4pO1xuY29uc3QgcHJvZmlsZVBvcHVwRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNwcm9maWxlLWVkaXQtbW9kYWxcIixcbiAgaGFuZGxlRWRpdFByb2ZpbGVGb3JtU3VibWl0XG4pO1xuY29uc3QgYWRkQ2FyZFBvcHVwRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNwcm9maWxlLWFkZC1tb2RhbFwiLFxuICBoYW5kbGVBZGRQcm9maWxlRm9ybVN1Ym1pdFxuKTtcbmNvbnN0IGNhcmRJbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI21vZGFsLWltYWdlLXBvcHVwXCIpO1xuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oXG4gIFwiI3Byb2ZpbGUtdGl0bGVcIixcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvblwiLFxuICBcIiNwcm9maWxlLWltYWdlXCJcbik7XG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCI3YzQwYjgxNC1lNzA3LTQxY2YtOTU5ZC05MWRiYzExNDY3YzdcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuY29uc3QgZGVsZXRlUG9wdXAgPSBuZXcgUG9wdXBXaXRoQ29uZmlybShcbiAgXCIjZGVsZXRlLWNhcmQtbW9kYWxcIixcbiAgaGFuZGxlQ2FyZERlbGV0ZVxuKTtcblxuY29uc3QgYXZhdGFyUG9wdXBGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI2F2YXRhci1lZGl0LW1vZGFsXCIsXG4gIGhhbmRsZUF2YXRhckZvcm1TdWJtaXRcbik7XG5cbi8vRXZlbnRsaXN0ZW5lcnNcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IHsgbmFtZSwgZGVzY3JpcHRpb24gfSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIHByb2ZpbGVQb3B1cEZvcm0uc2V0SW5wdXRWYWx1ZXMoeyBuYW1lOiBuYW1lLCBkZXNjcmlwdGlvbiB9KTtcbiAgZm9ybVZhbGlkYXRvcnNbXCJwcm9maWxlUG9wdXBGb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xuICBwcm9maWxlUG9wdXBGb3JtLm9wZW4oKTtcbn0pO1xuXG5jYXJkQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGFkZENhcmRQb3B1cEZvcm0ub3BlbigpO1xufSk7XG5cbmF2YXRhckVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYXZhdGFyUG9wdXBGb3JtLm9wZW4oKTtcbn0pO1xuXG4vL0NsYXNzIGNhbGxzXG5hZGRDYXJkUG9wdXBGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wcm9maWxlUG9wdXBGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5jYXJkSW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuZGVsZXRlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmF2YXRhclBvcHVwRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL0FQSSBDYWxsc1xuYXBpXG4gIC5nZXRVc2VyKClcbiAgLnRoZW4oKHJlcykgPT4ge1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcbiAgICAgIG5hbWU6IHJlcy5uYW1lLFxuICAgICAgZGVzY3JpcHRpb246IHJlcy5hYm91dCxcbiAgICAgIGF2YXRhcjogcmVzLmF2YXRhcixcbiAgICB9KTtcbiAgfSlcbiAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuXG5hcGlcbiAgLmdldEluaXRpYWxDYXJkcygpXG4gIC50aGVuKChyZXMpID0+IHtcbiAgICBsYXllclNlY3Rpb24uc2V0SXRlbXMocmVzKTtcbiAgICBsYXllclNlY3Rpb24ucmVuZGVySXRlbXMoKTtcbiAgfSlcbiAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgICAgdGhpcy5hZGRJdGVtKGVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cblxuICBzZXRJdGVtcyhpdGVtcykge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2ltYWdlUHJldmlldyA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcbiAgICB0aGlzLl9pbWFnZUNhcHRpb24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2FwdGlvblwiKTtcbiAgfVxuXG4gIG9wZW4oeyBuYW1lLCBsaW5rIH0pIHtcbiAgICB0aGlzLl9pbWFnZVByZXZpZXcuc3JjID0gbGluaztcbiAgICB0aGlzLl9pbWFnZVByZXZpZXcuYWx0ID0gYFBpY3R1cmUgb2YgJHtuYW1lfWA7XG4gICAgdGhpcy5faW1hZ2VDYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IocHJvZmlsZU5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVOYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fcHJvZmlsZU5hbWUuaW5uZXJUZXh0LFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuX2Rlc2NyaXB0aW9uLmlubmVyVGV4dCxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oZGF0YSkge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2Rlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5kZXNjcmlwdGlvbjtcbiAgICB0aGlzLnNldEF2YXRhcihkYXRhLmF2YXRhcik7XG4gIH1cblxuICBzZXRBdmF0YXIodXJsKSB7XG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IHVybDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX2F1dGhvcml6YXRpb24gPSBvcHRpb25zLmhlYWRlcnMuYXV0aG9yaXphdGlvbjtcbiAgICB0aGlzLl9iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gIH1cblxuICBfcmVxdWVzdCh1cmwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZmV0Y2godXJsLCBvcHRpb25zKS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XG4gICAgcmV0dXJuIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBnZXRVc2VyKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIGVkaXRQcm9maWxlKGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICBhYm91dDogZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgYWRkQ2FyZChkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICBsaW5rOiBkYXRhLmxpbmssXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBhZGRMaWtlKGNhcmRJZCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICByZW1vdmVMaWtlKGNhcmRJZCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyB1cGRhdGVBdmF0YXIoYXZhdGFyVXJsKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IGF2YXRhclVybCxcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9jb25maXJtQnRuID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICB9XG5cbiAgb3BlbihjYXJkKSB7XG4gICAgdGhpcy5jYXJkID0gY2FyZDtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2NvbmZpcm1CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuY2FyZCk7XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZUNhcmREZWxldGUiLCJoYW5kbGVMaWtlQ2FyZCIsImhhbmRsZURlbGV0ZU1vZGFsIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlQ2FyZERlbGV0ZSIsIl9oYW5kbGVMaWtlQ2FyZCIsIl9kYXRhIiwiaWQiLCJfaWQiLCJpc0xpa2VkIiwiX2hhbmRsZURlbGV0ZU1vZGFsIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2xpa2VCdXR0b24iLCJjYXJkRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiX2ltYWdlRWxlbWVudCIsImhhbmRsZURlbGV0ZUNhcmQiLCJhZGRMaWtlQnV0dG9uIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlTGlrZUJ1dHRvbiIsInJlbW92ZSIsInNldExpa2VCdXR0b25TdGF0ZSIsInJlbmRlckNhcmQiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJ0ZXh0Q29udGVudCIsInNldEF0dHJpYnV0ZSIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsIl9zZXR0aW5ncyIsIl9mb3JtIiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiX2J1dHRvbkVsZW1lbnQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9jaGVja0lucHV0dmFsaWRpdHkiLCJpbnB1dCIsInZhbGlkaXR5IiwidmFsaWQiLCJfcmVtb3ZlSW5wdXRFcnJvciIsIl9hZGRJbnB1dEVycm9yIiwiX2Vycm9yRWxlbWVudCIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZXJyb3JNZXNzYWdlIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIl9oYXNWYWxpZElucHV0IiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwic29tZSIsImlucHV0RWxlbWVudCIsImZvckVhY2giLCJldnQiLCJlbmFibGVWYWxpZGF0aW9uIiwicmVzZXRWYWxpZGF0aW9uIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfY2xvc2VCdXR0b24iLCJvcGVuIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJlIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXQiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0VmFsdWVzIiwiX3BvcHVwQnRuIiwiX3BvcHVwQnRuVGV4dCIsIl9nZXRJbnB1dFZhbHVlIiwiX2lucHV0RGF0YSIsInZhbHVlIiwic2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsInJlbmRlckxvYWRpbmciLCJpc0xvYWRpbmciLCJsb2FkaW5nVGV4dCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInByb2ZpbGVFZGl0QnV0dG9uIiwiY2FyZEFkZEJ1dHRvbiIsImF2YXRhckVkaXRCdXR0b24iLCJmb3JtVmFsaWRhdG9ycyIsImNvbmZpZyIsImhhbmRsZVN1Ym1pdCIsInJlcXVlc3QiLCJwb3B1cEluc3RhbmNlIiwidGhlbiIsImNhdGNoIiwiY29uc29sZSIsImVycm9yIiwiZmluYWxseSIsImNyZWF0ZUNhcmQiLCJoYW5kbGVDYXJkSW1hZ2VDbGljayIsImNhcmRJbWFnZVBvcHVwIiwiY2FyZCIsImFwaSIsImRlbGV0ZUNhcmQiLCJkZWxldGVQb3B1cCIsImFkZExpa2UiLCJyZW1vdmVMaWtlIiwiZm9ybUVsZW1lbnQiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsImdldEVsZW1lbnRCeUlkIiwic3JjIiwibGF5ZXJTZWN0aW9uIiwiX3JlZiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJlbGVtZW50IiwiYWRkSXRlbSIsInByZXBlbmQiLCJzZXRJdGVtcyIsInByb2ZpbGVQb3B1cEZvcm0iLCJlZGl0UHJvZmlsZSIsImRlc2NyaXB0aW9uIiwicmVzIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsImFib3V0IiwiYXZhdGFyIiwiYWRkQ2FyZFBvcHVwRm9ybSIsImFkZENhcmQiLCJpbWFnZSIsIl9pbWFnZVByZXZpZXciLCJfaW1hZ2VDYXB0aW9uIiwiYWx0IiwicHJvZmlsZU5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfcHJvZmlsZU5hbWUiLCJfZGVzY3JpcHRpb24iLCJfYXZhdGFyIiwiZ2V0VXNlckluZm8iLCJpbm5lclRleHQiLCJzZXRBdmF0YXIiLCJ1cmwiLCJvcHRpb25zIiwiX2F1dGhvcml6YXRpb24iLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiX3JlcXVlc3QiLCJmZXRjaCIsIl9jaGVja1Jlc3BvbnNlIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXIiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmRJZCIsInVwZGF0ZUF2YXRhciIsImF2YXRhclVybCIsIl9wb3B1cCIsIl9jb25maXJtQnRuIiwiYXZhdGFyUG9wdXBGb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==